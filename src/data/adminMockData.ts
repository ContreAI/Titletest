import {
  AdminTransaction,
  TitleEmployee,
  TimelineTemplate,
  MessageTemplate,
  TransactionType,
  PipelineStage,
} from "@/types/admin";

// Title Company Employees
export const mockEmployees: TitleEmployee[] = [
  {
    id: "emp_001",
    titleCompanyId: "tc_001",
    name: "Emily Davis",
    email: "emily@contretitle.com",
    phone: "(208) 555-1001",
    role: "closer",
    avatar: undefined,
    createdAt: "2023-01-15T00:00:00Z",
  },
  {
    id: "emp_002",
    titleCompanyId: "tc_001",
    name: "Tom Anderson",
    email: "tom@contretitle.com",
    phone: "(208) 555-1002",
    role: "closer",
    avatar: undefined,
    createdAt: "2023-03-20T00:00:00Z",
  },
  {
    id: "emp_003",
    titleCompanyId: "tc_001",
    name: "Sarah Mitchell",
    email: "sarah@contretitle.com",
    phone: "(208) 555-1003",
    role: "processor",
    avatar: undefined,
    createdAt: "2023-06-01T00:00:00Z",
  },
  {
    id: "emp_004",
    titleCompanyId: "tc_001",
    name: "Mike Chen",
    email: "mike@contretitle.com",
    phone: "(208) 555-1004",
    role: "admin",
    avatar: undefined,
    createdAt: "2022-08-10T00:00:00Z",
  },
];

// Mock Transactions for Pipeline
export const mockAdminTransactions: AdminTransaction[] = [
  // New Orders (3)
  {
    id: "tx_001",
    titleCompanyId: "tc_001",
    transactionType: "purchase",
    pipelineStage: "new_pending",
    property: {
      address: "742 Evergreen Terrace",
      city: "Boise",
      state: "ID",
      zip: "83702",
    },
    financials: {
      purchasePrice: 385000,
      earnestMoney: 8000,
      loanAmount: 308000,
      downPayment: 77000,
      loanType: "Conventional",
    },
    dates: {
      contractDate: "2025-01-25",
      closingDate: "2025-02-28",
    },
    assignedCloserId: undefined,
    priority: "normal",
    tags: [],
    documentCount: 2,
    pendingDocumentCount: 12,
    unreadMessageCount: 0,
    buyerNames: ["Homer Simpson", "Marge Simpson"],
    sellerNames: ["Ned Flanders"],
    buyerAgentName: "Lisa Kudrow",
    sellerAgentName: "Matt LeBlanc",
    createdAt: "2025-01-25T14:30:00Z",
    updatedAt: "2025-01-25T14:30:00Z",
    lastActivityAt: "2025-01-25T14:30:00Z",
    lastActivityDescription: "Contract received",
  },
  {
    id: "tx_002",
    titleCompanyId: "tc_001",
    transactionType: "cash_sale",
    pipelineStage: "new_pending",
    property: {
      address: "1600 Pennsylvania Ave",
      city: "Eagle",
      state: "ID",
      zip: "83616",
    },
    financials: {
      purchasePrice: 725000,
      earnestMoney: 25000,
      loanType: "Cash",
    },
    dates: {
      contractDate: "2025-01-24",
      closingDate: "2025-02-15",
    },
    assignedCloserId: undefined,
    priority: "high",
    tags: ["cash", "investor"],
    documentCount: 3,
    pendingDocumentCount: 8,
    unreadMessageCount: 2,
    buyerNames: ["Warren Buffett"],
    sellerNames: ["Donald Sterling"],
    buyerAgentName: "Jennifer Aniston",
    sellerAgentName: "Courteney Cox",
    createdAt: "2025-01-24T10:00:00Z",
    updatedAt: "2025-01-25T09:00:00Z",
    lastActivityAt: "2025-01-25T09:00:00Z",
    lastActivityDescription: "Earnest money received",
  },
  {
    id: "tx_003",
    titleCompanyId: "tc_001",
    transactionType: "purchase",
    pipelineStage: "new_pending",
    property: {
      address: "221B Baker Street",
      city: "Meridian",
      state: "ID",
      zip: "83642",
    },
    financials: {
      purchasePrice: 295000,
      earnestMoney: 5000,
      loanAmount: 280250,
      downPayment: 14750,
      loanType: "FHA",
    },
    dates: {
      contractDate: "2025-01-26",
      closingDate: "2025-03-10",
    },
    assignedCloserId: undefined,
    priority: "normal",
    tags: ["first-time-buyer"],
    documentCount: 1,
    pendingDocumentCount: 14,
    unreadMessageCount: 0,
    buyerNames: ["Sherlock Holmes"],
    sellerNames: ["John Watson", "Mary Watson"],
    buyerAgentName: "Benedict Cumberbatch",
    sellerAgentName: "Martin Freeman",
    createdAt: "2025-01-26T08:00:00Z",
    updatedAt: "2025-01-26T08:00:00Z",
    lastActivityAt: "2025-01-26T08:00:00Z",
    lastActivityDescription: "Contract received",
  },

  // Title Work (4)
  {
    id: "tx_004",
    titleCompanyId: "tc_001",
    transactionType: "purchase",
    pipelineStage: "title_work",
    property: {
      address: "123 Main Street",
      city: "Boise",
      state: "ID",
      zip: "83702",
    },
    financials: {
      purchasePrice: 425000,
      earnestMoney: 10000,
      loanAmount: 340000,
      downPayment: 85000,
      loanType: "Conventional",
    },
    dates: {
      contractDate: "2025-01-10",
      closingDate: "2025-02-10",
    },
    assignedCloserId: "emp_001",
    assignedCloserName: "Emily Davis",
    priority: "normal",
    tags: [],
    documentCount: 6,
    pendingDocumentCount: 8,
    unreadMessageCount: 1,
    buyerNames: ["John Smith", "Jane Smith"],
    sellerNames: ["Robert Johnson"],
    buyerAgentName: "Sarah Johnson",
    sellerAgentName: "Mike Williams",
    createdAt: "2025-01-10T10:00:00Z",
    updatedAt: "2025-01-22T14:30:00Z",
    lastActivityAt: "2025-01-22T14:30:00Z",
    lastActivityDescription: "Title search in progress",
  },
  {
    id: "tx_005",
    titleCompanyId: "tc_001",
    transactionType: "refinance",
    pipelineStage: "title_work",
    property: {
      address: "456 Oak Avenue",
      city: "Nampa",
      state: "ID",
      zip: "83651",
    },
    financials: {
      purchasePrice: 0,
      earnestMoney: 0,
      loanAmount: 225000,
      loanType: "Conventional",
    },
    dates: {
      contractDate: "2025-01-15",
      closingDate: "2025-02-05",
    },
    assignedCloserId: "emp_002",
    assignedCloserName: "Tom Anderson",
    priority: "high",
    tags: ["refi", "rate-lock"],
    documentCount: 4,
    pendingDocumentCount: 6,
    unreadMessageCount: 0,
    buyerNames: ["Michael Scott"],
    sellerNames: [],
    buyerAgentName: undefined,
    sellerAgentName: undefined,
    createdAt: "2025-01-15T11:00:00Z",
    updatedAt: "2025-01-23T16:00:00Z",
    lastActivityAt: "2025-01-23T16:00:00Z",
    lastActivityDescription: "Title commitment issued",
  },
  {
    id: "tx_006",
    titleCompanyId: "tc_001",
    transactionType: "commercial",
    pipelineStage: "title_work",
    property: {
      address: "100 Commerce Blvd",
      city: "Boise",
      state: "ID",
      zip: "83704",
    },
    financials: {
      purchasePrice: 2500000,
      earnestMoney: 100000,
      loanAmount: 1875000,
      downPayment: 625000,
      loanType: "Commercial",
    },
    dates: {
      contractDate: "2025-01-05",
      closingDate: "2025-03-01",
    },
    assignedCloserId: "emp_001",
    assignedCloserName: "Emily Davis",
    priority: "high",
    tags: ["commercial", "multi-tenant"],
    documentCount: 12,
    pendingDocumentCount: 20,
    unreadMessageCount: 3,
    buyerNames: ["Acme Holdings LLC"],
    sellerNames: ["Premier Properties Inc"],
    buyerAgentName: "Commercial Realty Group",
    sellerAgentName: "Idaho Business Brokers",
    createdAt: "2025-01-05T09:00:00Z",
    updatedAt: "2025-01-24T11:00:00Z",
    lastActivityAt: "2025-01-24T11:00:00Z",
    lastActivityDescription: "Environmental Phase I ordered",
  },
  {
    id: "tx_007",
    titleCompanyId: "tc_001",
    transactionType: "purchase",
    pipelineStage: "title_work",
    property: {
      address: "789 Pine Road",
      city: "Garden City",
      state: "ID",
      zip: "83714",
    },
    financials: {
      purchasePrice: 315000,
      earnestMoney: 6000,
      loanAmount: 299250,
      downPayment: 15750,
      loanType: "VA",
    },
    dates: {
      contractDate: "2025-01-12",
      closingDate: "2025-02-20",
    },
    assignedCloserId: "emp_002",
    assignedCloserName: "Tom Anderson",
    priority: "normal",
    tags: ["va-loan"],
    documentCount: 5,
    pendingDocumentCount: 10,
    unreadMessageCount: 0,
    buyerNames: ["James Peterson"],
    sellerNames: ["Linda Martinez"],
    buyerAgentName: "Kevin Hart",
    sellerAgentName: "Tiffany Haddish",
    createdAt: "2025-01-12T13:00:00Z",
    updatedAt: "2025-01-21T10:00:00Z",
    lastActivityAt: "2025-01-21T10:00:00Z",
    lastActivityDescription: "Waiting on lien release",
  },

  // Clear to Close (2)
  {
    id: "tx_008",
    titleCompanyId: "tc_001",
    transactionType: "purchase",
    pipelineStage: "clear_to_close",
    property: {
      address: "555 Willow Lane",
      city: "Boise",
      state: "ID",
      zip: "83706",
    },
    financials: {
      purchasePrice: 475000,
      earnestMoney: 12000,
      loanAmount: 380000,
      downPayment: 95000,
      loanType: "Conventional",
    },
    dates: {
      contractDate: "2024-12-20",
      closingDate: "2025-01-31",
    },
    assignedCloserId: "emp_001",
    assignedCloserName: "Emily Davis",
    priority: "high",
    tags: [],
    documentCount: 14,
    pendingDocumentCount: 2,
    unreadMessageCount: 0,
    buyerNames: ["David Lee", "Susan Lee"],
    sellerNames: ["Thomas Brown"],
    buyerAgentName: "Amy Poehler",
    sellerAgentName: "Tina Fey",
    createdAt: "2024-12-20T09:00:00Z",
    updatedAt: "2025-01-25T15:00:00Z",
    lastActivityAt: "2025-01-25T15:00:00Z",
    lastActivityDescription: "Settlement statements sent for review",
  },
  {
    id: "tx_009",
    titleCompanyId: "tc_001",
    transactionType: "cash_sale",
    pipelineStage: "clear_to_close",
    property: {
      address: "888 Sunset Drive",
      city: "Eagle",
      state: "ID",
      zip: "83616",
    },
    financials: {
      purchasePrice: 895000,
      earnestMoney: 30000,
      loanType: "Cash",
    },
    dates: {
      contractDate: "2025-01-08",
      closingDate: "2025-02-01",
    },
    assignedCloserId: "emp_002",
    assignedCloserName: "Tom Anderson",
    priority: "urgent",
    tags: ["cash", "luxury"],
    documentCount: 10,
    pendingDocumentCount: 1,
    unreadMessageCount: 1,
    buyerNames: ["Elizabeth Taylor"],
    sellerNames: ["Richard Burton"],
    buyerAgentName: "George Clooney",
    sellerAgentName: "Brad Pitt",
    createdAt: "2025-01-08T14:00:00Z",
    updatedAt: "2025-01-26T09:00:00Z",
    lastActivityAt: "2025-01-26T09:00:00Z",
    lastActivityDescription: "Wire instructions sent",
  },

  // Scheduled (2)
  {
    id: "tx_010",
    titleCompanyId: "tc_001",
    transactionType: "purchase",
    pipelineStage: "scheduled",
    property: {
      address: "321 Maple Court",
      city: "Meridian",
      state: "ID",
      zip: "83646",
    },
    financials: {
      purchasePrice: 365000,
      earnestMoney: 7500,
      loanAmount: 328500,
      downPayment: 36500,
      loanType: "Conventional",
    },
    dates: {
      contractDate: "2024-12-15",
      closingDate: "2025-01-29",
      signingWindowStart: "2025-01-28",
      signingWindowEnd: "2025-01-29",
    },
    assignedCloserId: "emp_001",
    assignedCloserName: "Emily Davis",
    priority: "normal",
    tags: [],
    documentCount: 16,
    pendingDocumentCount: 0,
    unreadMessageCount: 0,
    buyerNames: ["Chris Evans"],
    sellerNames: ["Scarlett Johansson"],
    buyerAgentName: "Robert Downey Jr",
    sellerAgentName: "Chris Hemsworth",
    createdAt: "2024-12-15T10:00:00Z",
    updatedAt: "2025-01-26T11:00:00Z",
    lastActivityAt: "2025-01-26T11:00:00Z",
    lastActivityDescription: "Signing scheduled for Jan 28 at 2:00 PM",
  },
  {
    id: "tx_011",
    titleCompanyId: "tc_001",
    transactionType: "new_construction",
    pipelineStage: "scheduled",
    property: {
      address: "Lot 15, Harmony Heights",
      city: "Star",
      state: "ID",
      zip: "83669",
    },
    financials: {
      purchasePrice: 545000,
      earnestMoney: 15000,
      loanAmount: 436000,
      downPayment: 109000,
      loanType: "Construction-Perm",
    },
    dates: {
      contractDate: "2024-09-01",
      closingDate: "2025-01-30",
      signingWindowStart: "2025-01-29",
      signingWindowEnd: "2025-01-30",
    },
    assignedCloserId: "emp_002",
    assignedCloserName: "Tom Anderson",
    priority: "normal",
    tags: ["new-construction", "builder"],
    documentCount: 22,
    pendingDocumentCount: 0,
    unreadMessageCount: 0,
    buyerNames: ["Mark Zuckerberg", "Priscilla Chan"],
    sellerNames: ["Harmony Homes LLC"],
    buyerAgentName: "Elon Musk",
    sellerAgentName: undefined,
    createdAt: "2024-09-01T08:00:00Z",
    updatedAt: "2025-01-25T16:00:00Z",
    lastActivityAt: "2025-01-25T16:00:00Z",
    lastActivityDescription: "Final walkthrough completed",
  },

  // Closed (3)
  {
    id: "tx_012",
    titleCompanyId: "tc_001",
    transactionType: "purchase",
    pipelineStage: "closed",
    property: {
      address: "999 Victory Lane",
      city: "Boise",
      state: "ID",
      zip: "83705",
    },
    financials: {
      purchasePrice: 399000,
      earnestMoney: 8000,
      loanAmount: 319200,
      downPayment: 79800,
      loanType: "Conventional",
    },
    dates: {
      contractDate: "2024-11-20",
      closingDate: "2025-01-20",
    },
    assignedCloserId: "emp_001",
    assignedCloserName: "Emily Davis",
    priority: "normal",
    tags: [],
    documentCount: 18,
    pendingDocumentCount: 0,
    unreadMessageCount: 0,
    buyerNames: ["Taylor Swift"],
    sellerNames: ["Travis Kelce"],
    buyerAgentName: "Beyonce Knowles",
    sellerAgentName: "Jay-Z Carter",
    createdAt: "2024-11-20T09:00:00Z",
    updatedAt: "2025-01-20T16:00:00Z",
    lastActivityAt: "2025-01-20T16:00:00Z",
    lastActivityDescription: "Transaction closed and recorded",
  },
  {
    id: "tx_013",
    titleCompanyId: "tc_001",
    transactionType: "refinance",
    pipelineStage: "closed",
    property: {
      address: "444 River Road",
      city: "Garden City",
      state: "ID",
      zip: "83714",
    },
    financials: {
      purchasePrice: 0,
      earnestMoney: 0,
      loanAmount: 180000,
      loanType: "Conventional",
    },
    dates: {
      contractDate: "2024-12-10",
      closingDate: "2025-01-15",
    },
    assignedCloserId: "emp_002",
    assignedCloserName: "Tom Anderson",
    priority: "normal",
    tags: ["refi"],
    documentCount: 12,
    pendingDocumentCount: 0,
    unreadMessageCount: 0,
    buyerNames: ["Jennifer Lopez"],
    sellerNames: [],
    buyerAgentName: undefined,
    sellerAgentName: undefined,
    createdAt: "2024-12-10T11:00:00Z",
    updatedAt: "2025-01-15T14:00:00Z",
    lastActivityAt: "2025-01-15T14:00:00Z",
    lastActivityDescription: "Refinance completed",
  },
  {
    id: "tx_014",
    titleCompanyId: "tc_001",
    transactionType: "purchase",
    pipelineStage: "closed",
    property: {
      address: "777 Lucky Street",
      city: "Nampa",
      state: "ID",
      zip: "83686",
    },
    financials: {
      purchasePrice: 275000,
      earnestMoney: 5000,
      loanAmount: 261250,
      downPayment: 13750,
      loanType: "FHA",
    },
    dates: {
      contractDate: "2024-11-25",
      closingDate: "2025-01-10",
    },
    assignedCloserId: "emp_001",
    assignedCloserName: "Emily Davis",
    priority: "normal",
    tags: ["first-time-buyer"],
    documentCount: 16,
    pendingDocumentCount: 0,
    unreadMessageCount: 0,
    buyerNames: ["Ryan Reynolds", "Blake Lively"],
    sellerNames: ["Hugh Jackman", "Deborra-Lee Furness"],
    buyerAgentName: "Deadpool Agent",
    sellerAgentName: "Wolverine Realty",
    createdAt: "2024-11-25T10:00:00Z",
    updatedAt: "2025-01-10T15:00:00Z",
    lastActivityAt: "2025-01-10T15:00:00Z",
    lastActivityDescription: "Transaction closed and recorded",
  },

  // On Hold (1)
  {
    id: "tx_015",
    titleCompanyId: "tc_001",
    transactionType: "short_sale",
    pipelineStage: "on_hold",
    property: {
      address: "111 Foreclosure Ave",
      city: "Caldwell",
      state: "ID",
      zip: "83605",
    },
    financials: {
      purchasePrice: 185000,
      earnestMoney: 3000,
      loanAmount: 175750,
      downPayment: 9250,
      loanType: "Conventional",
    },
    dates: {
      contractDate: "2024-10-15",
      closingDate: "2025-03-15",
    },
    assignedCloserId: "emp_001",
    assignedCloserName: "Emily Davis",
    priority: "low",
    tags: ["short-sale", "bank-approval"],
    documentCount: 8,
    pendingDocumentCount: 5,
    unreadMessageCount: 0,
    buyerNames: ["Budget Buyer"],
    sellerNames: ["Distressed Seller"],
    buyerAgentName: "Patient Agent",
    sellerAgentName: "Helpful Realtor",
    createdAt: "2024-10-15T09:00:00Z",
    updatedAt: "2025-01-20T10:00:00Z",
    lastActivityAt: "2025-01-20T10:00:00Z",
    lastActivityDescription: "Awaiting bank approval - 60 day extension",
  },
];

// Timeline Templates
export const mockTimelineTemplates: TimelineTemplate[] = [
  {
    id: "tmpl_001",
    titleCompanyId: "tc_001",
    name: "Standard Purchase - 30 Day Close",
    description: "Default timeline for conventional purchase transactions",
    transactionType: "purchase",
    events: [
      {
        id: "evt_001",
        title: "Earnest Money Due",
        description: "Deposit earnest money with title company",
        offsetDays: 3,
        offsetFrom: "contract_date",
        assignedTo: "buyer",
        category: "contract_earnest_money",
        isRequired: true,
        notifications: [
          { channel: "email", daysBeforeEvent: 1 },
        ],
      },
      {
        id: "evt_002",
        title: "Inspection Deadline",
        description: "Complete property inspection",
        offsetDays: 10,
        offsetFrom: "contract_date",
        assignedTo: "buyer",
        category: "inspection_due_diligence",
        isRequired: true,
        notifications: [
          { channel: "email", daysBeforeEvent: 3 },
          { channel: "email", daysBeforeEvent: 1 },
        ],
      },
      {
        id: "evt_003",
        title: "Appraisal Due",
        description: "Lender appraisal completed",
        offsetDays: -14,
        offsetFrom: "closing_date",
        assignedTo: "lender",
        category: "financing",
        isRequired: true,
        notifications: [],
      },
      {
        id: "evt_004",
        title: "Loan Contingency",
        description: "Final loan approval deadline",
        offsetDays: -7,
        offsetFrom: "closing_date",
        assignedTo: "buyer",
        category: "financing",
        isRequired: true,
        notifications: [
          { channel: "email", daysBeforeEvent: 2 },
        ],
      },
      {
        id: "evt_005",
        title: "Settlement Statements Ready",
        description: "Review closing figures",
        offsetDays: -3,
        offsetFrom: "closing_date",
        assignedTo: "title",
        category: "closing_prep",
        isRequired: true,
        notifications: [],
      },
      {
        id: "evt_006",
        title: "Closing",
        description: "Sign documents and close transaction",
        offsetDays: 0,
        offsetFrom: "closing_date",
        assignedTo: undefined,
        category: "closing",
        isRequired: true,
        notifications: [
          { channel: "email", daysBeforeEvent: 1 },
        ],
      },
    ],
    isDefault: true,
    createdAt: "2024-01-01T00:00:00Z",
    updatedAt: "2024-06-15T00:00:00Z",
  },
  {
    id: "tmpl_002",
    titleCompanyId: "tc_001",
    name: "Cash Sale - Quick Close",
    description: "Expedited timeline for cash transactions",
    transactionType: "cash_sale",
    events: [
      {
        id: "evt_001",
        title: "Earnest Money Due",
        offsetDays: 2,
        offsetFrom: "contract_date",
        assignedTo: "buyer",
        category: "contract_earnest_money",
        isRequired: true,
        notifications: [],
      },
      {
        id: "evt_002",
        title: "Proof of Funds",
        description: "Verify cash availability",
        offsetDays: 3,
        offsetFrom: "contract_date",
        assignedTo: "buyer",
        category: "financing",
        isRequired: true,
        notifications: [],
      },
      {
        id: "evt_003",
        title: "Closing",
        offsetDays: 0,
        offsetFrom: "closing_date",
        assignedTo: undefined,
        category: "closing",
        isRequired: true,
        notifications: [],
      },
    ],
    isDefault: true,
    createdAt: "2024-01-01T00:00:00Z",
    updatedAt: "2024-01-01T00:00:00Z",
  },
];

// Message Templates
export const mockMessageTemplates: MessageTemplate[] = [
  {
    id: "msg_001",
    titleCompanyId: "tc_001",
    name: "Welcome - New Transaction",
    subject: "Welcome to Your Real Estate Transaction - {{property_address}}",
    body: `Dear {{buyer_name}},

Welcome to Contre Title! We are excited to assist you with the purchase of {{property_address}}.

Your closing is scheduled for {{closing_date}}. Here's what to expect:

1. We will conduct a title search and issue a title commitment
2. You will receive settlement statements 3 days before closing
3. Wire instructions will be sent separately via secure email

You can access your transaction portal anytime at:
{{portal_link}}

Your closing officer is {{closer_name}}. Feel free to reach out with any questions at {{closer_phone}} or {{closer_email}}.

Best regards,
{{title_company_name}}`,
    channels: ["email"],
    variables: [
      { name: "buyer_name", description: "Buyer's name", example: "John Smith" },
      { name: "property_address", description: "Property address", example: "123 Main St" },
      { name: "closing_date", description: "Closing date", example: "February 15, 2025" },
      { name: "portal_link", description: "Portal URL", example: "https://..." },
      { name: "closer_name", description: "Closer name", example: "Emily Davis" },
      { name: "closer_phone", description: "Closer phone", example: "(208) 555-1000" },
      { name: "closer_email", description: "Closer email", example: "emily@contretitle.com" },
      { name: "title_company_name", description: "Company name", example: "Contre Title" },
    ],
    triggerType: "stage_change",
    triggerConfig: {
      stage: "title_work",
    },
    isActive: true,
    createdAt: "2024-01-01T00:00:00Z",
    updatedAt: "2024-06-15T00:00:00Z",
  },
  {
    id: "msg_002",
    titleCompanyId: "tc_001",
    name: "Closing Reminder - 7 Days",
    subject: "Closing Reminder: {{property_address}} - {{days_until_closing}} Days",
    body: `Dear {{buyer_name}},

This is a friendly reminder that your closing for {{property_address}} is in {{days_until_closing}} days on {{closing_date}}.

Please ensure you have:
- Reviewed your settlement statement (arriving within 3 days)
- Arranged for wire transfer of closing funds
- Scheduled your final walkthrough
- Obtained homeowners insurance

If you haven't already, please schedule your signing appointment through your portal:
{{portal_link}}

Questions? Contact {{closer_name}} at {{closer_phone}}.

Best regards,
{{title_company_name}}`,
    channels: ["email"],
    variables: [],
    triggerType: "days_before_closing",
    triggerConfig: {
      daysOffset: 7,
    },
    isActive: true,
    createdAt: "2024-01-01T00:00:00Z",
    updatedAt: "2024-01-01T00:00:00Z",
  },
  {
    id: "msg_003",
    titleCompanyId: "tc_001",
    name: "Document Uploaded Notification",
    subject: "New Document Available - {{property_address}}",
    body: `Dear {{buyer_name}},

A new document has been uploaded to your transaction for {{property_address}}.

Please log in to your portal to view and review:
{{portal_link}}

Best regards,
{{title_company_name}}`,
    channels: ["email"],
    variables: [],
    triggerType: "document_uploaded",
    triggerConfig: {},
    isActive: true,
    createdAt: "2024-01-01T00:00:00Z",
    updatedAt: "2024-01-01T00:00:00Z",
  },
];

// Helper function to get transactions by stage
export function getTransactionsByStage(
  transactions: AdminTransaction[]
): Record<PipelineStage, AdminTransaction[]> {
  const byStage: Record<PipelineStage, AdminTransaction[]> = {
    new_pending: [],
    title_work: [],
    clear_to_close: [],
    scheduled: [],
    closed: [],
    cancelled: [],
    on_hold: [],
  };

  transactions.forEach((tx) => {
    byStage[tx.pipelineStage].push(tx);
  });

  return byStage;
}

// Helper to format currency
export function formatCurrency(amount: number): string {
  return new Intl.NumberFormat("en-US", {
    style: "currency",
    currency: "USD",
    minimumFractionDigits: 0,
    maximumFractionDigits: 0,
  }).format(amount);
}

// Helper to calculate days until closing
export function daysUntilClosing(closingDate: string): number {
  const today = new Date();
  const closing = new Date(closingDate);
  const diffTime = closing.getTime() - today.getTime();
  return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
}
